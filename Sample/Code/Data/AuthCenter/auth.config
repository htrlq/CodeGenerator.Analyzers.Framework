<?xml version="1.0" encoding="utf-8"?>
<SQLConfig xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
	<SQLList>
		<!-- 分页查询项目列表 -->
		<SQL SQLKey="auth_UserRole.GetAllMenuList" ConnectionKey="MainRead">
			<Text>
				<![CDATA[
				SELECT
				SysNo,
				SysCode,
				ParentSysCode,
				MenuName,
				LinkPath,
				Type,
				MenuCode,
				IsDisplay,
				IconStyle,
				SortIndex,
				Memo
				FROM system_menu WHERE CommonStatus = 1;
		        ]]>
			</Text>
		</SQL>

		<!-- 通过UserSysCode获取角色 -->
		<SQL SQLKey="auth_UserRole.GetUserRole" ConnectionKey="MainRead">
			<Text>
				<![CDATA[
					SELECT
					userRole.UserSysCode,
					userRole.RoleSysCode,
					userRole.InUserSysNo,
					userRole.InUserName,
					userRole.InDate,
					userRole.BizSysCode,
					userRole.UserType
					from system_role role
					LEFT JOIN system_user_role userRole on userRole.RoleSysCode = role.SysCode
					where 
					userRole.UserSysCode = @UserSysCode
					and userRole.UserType = @UserType
					and userRole.BizSysCode = @BizSysCode;
		        ]]>
			</Text>
		</SQL>

		<!-- 通过RoleSysCode功能点 -->
		<SQL SQLKey="auth_UserRole.GetUserFunctions" ConnectionKey="MainRead">
			<Text>
				<![CDATA[
					SELECT
					sysFunction.SysCode,
					sysFunction.FunctionName,
					sysFunction.FunctionKey,
					sysFunction.MenuSysCode,
					false as Selected
					FROM system_function sysFunction
					LEFT JOIN system_role_function roleFunction on roleFunction.FunctionSysCode = sysFunction.SysCode and sysFunction.CommonStatus = 1
					where roleFunction.RoleSysCode in (@RoleSysCodes);
		        ]]>
			</Text>
		</SQL>
	</SQLList>
</SQLConfig>